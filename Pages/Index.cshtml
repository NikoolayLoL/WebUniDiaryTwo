@page
@model IndexModel
@{
    ViewData["Title"] = "Login";
}

<style>
    body, html {
        height: 100%;
        margin: 0;
        overflow: hidden; /* Prevent scrolling */
    }

    .background-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transition: background-color 1s;
    }

    .form-container {
        position: relative;
        z-index: 1;
        background-color: white; /* Ensure the form has a solid background */
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .full-height {
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
    }
</style>

<div class="background-container"></div>

<div class="full-height">
    <div class="col-md-6 form-container">
        <h2 class="text-center mb-5">User Login</h2>


        @if (!string.IsNullOrEmpty(Model.failureMessage))
        {
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <strong>@Model.failureMessage</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }

        <form method="post" enctype="multipart/form-data">
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Email</label>
                <div class="col-sm-9">
                    <input class="form-control" asp-for="userDto.Email" type="email" required />
                    <span asp-validation-for="userDto.Email" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Password</label>
                <div class="col-sm-9">
                    <input class="form-control" asp-for="userDto.Password" type="password" required />
                    <span asp-validation-for="userDto.Password" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3 justify-content-center mt-4">
                <div class="col-sm-6 mb-2">
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="d-grid">
                        <button type="button" onclick="window.location.href='/Register'" class="btn btn-outline-primary">Register Here</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const colors = ['#f0f8ff', '#e6e6fa', '#fff0f5', '#f5f5dc', '#faf0e6', '#f5fffa'];
            let currentIndex = 0;

            function changeBackgroundColor() {
                document.querySelector('.background-container').style.backgroundColor = colors[currentIndex];
                currentIndex = (currentIndex + 1) % colors.length;
            }

            // Initial background color
            changeBackgroundColor();

            // Change background color every 5 seconds
            setInterval(changeBackgroundColor, 5000);
        });
    </script>
}
